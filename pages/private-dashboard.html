<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Espace priv√© ‚Äì Papo R√©nov</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Police -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#0b1120;
      --bg-alt:#020617;
      --card:#0f172a;
      --card-soft:#111827;
      --accent:#38bdf8;
      --accent-soft:rgba(56,189,248,0.15);
      --accent-strong:#0ea5e9;
      --text:#e5e7eb;
      --text-soft:#9ca3af;
      --border:#1f2937;
      --danger:#ef4444;
      --warning:#facc15;
      --success:#22c55e;
      --radius-lg:18px;
      --radius-md:12px;
      --shadow-soft:0 18px 45px rgba(15,23,42,0.75);
    }

    *{box-sizing:border-box;margin:0;padding:0;}
    html,body{height:100%;}
    body{
      font-family:'Poppins',sans-serif;
      background: radial-gradient(circle at top left,#1d283a 0,#020617 55%);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
    }

    a{color:var(--accent);text-decoration:none;}
    a:hover{text-decoration:underline;}

    /* ===== HEADER MINIMAL (retour au site) ===== */
    header.pr-header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:10px 22px;
      border-bottom:1px solid rgba(148,163,184,0.25);
      background:linear-gradient(to right,rgba(15,23,42,0.96),rgba(15,23,42,0.9));
      backdrop-filter:blur(18px);
      position:sticky;
      top:0;
      z-index:20;
    }
    header.pr-header .brand{
      display:flex;
      align-items:center;
      gap:10px;
    }
    header.pr-header img.logo{
      height:32px;
      width:auto;
      filter:drop-shadow(0 0 12px rgba(56,189,248,0.6));
    }
    header.pr-header .brand h1{
      font-size:1rem;
      font-weight:600;
      letter-spacing:.06em;
      text-transform:uppercase;
      color:#e5e7eb;
    }
    header.pr-header nav a{
      font-size:.85rem;
      color:var(--text-soft);
      padding:6px 10px;
      border-radius:999px;
      border:1px solid transparent;
    }
    header.pr-header nav a:hover{
      border-color:rgba(148,163,184,0.4);
      color:#f9fafb;
      background:rgba(15,23,42,.9);
    }

    /* ===== LAYOUT GLOBAL ===== */
    .private-root{
      max-width:1360px;
      margin:22px auto 32px;
      padding:0 14px 24px;
    }

    /* ===== LOGIN ===== */
    .private-login{
      max-width:520px;
      margin:52px auto 0;
      padding:26px 26px 24px;
      border-radius:var(--radius-lg);
      background:radial-gradient(circle at top left,rgba(56,189,248,0.15),transparent 55%) , var(--card);
      box-shadow:var(--shadow-soft);
      border:1px solid rgba(148,163,184,0.4);
      text-align:left;
    }
    .private-login h1{
      font-size:1.3rem;
      font-weight:700;
      margin-bottom:6px;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .private-login h1 span.badge{
      font-size:.7rem;
      padding:3px 9px;
      border-radius:999px;
      background:rgba(15,23,42,0.94);
      border:1px solid rgba(148,163,184,0.55);
      text-transform:uppercase;
      letter-spacing:.12em;
      color:#e5e7eb;
    }
    .private-login p{
      font-size:.9rem;
      color:var(--text-soft);
      margin-bottom:18px;
    }
    .private-login .field{
      display:flex;
      gap:8px;
      margin-bottom:10px;
    }
    .private-login input{
      flex:1;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.55);
      background:rgba(15,23,42,0.95);
      color:var(--text);
      font-size:.9rem;
      outline:none;
    }
    .private-login input:focus{
      border-color:var(--accent);
      box-shadow:0 0 0 1px rgba(56,189,248,0.4);
    }
    .private-login button{
      padding:10px 16px;
      border-radius:999px;
      border:none;
      background:linear-gradient(135deg,var(--accent),var(--accent-strong));
      color:#0b1120;
      font-weight:600;
      font-size:.9rem;
      cursor:pointer;
      white-space:nowrap;
      box-shadow:0 10px 30px rgba(56,189,248,0.45);
    }
    .private-login button:hover{
      filter:brightness(1.05);
      transform:translateY(-1px);
    }
    .private-login button:active{
      transform:translateY(0);
      box-shadow:0 4px 18px rgba(15,23,42,0.9);
    }
    #private-error{
      min-height:18px;
      font-size:.8rem;
      color:var(--danger);
      margin-top:4px;
    }
    .private-login .hint{
      font-size:.75rem;
      color:var(--text-soft);
      margin-top:10px;
    }

    /* ===== DASHBOARD LAYOUT ===== */
    #private-dashboard{
      display:none; /* affich√© apr√®s login */
      margin-top:22px;
      border-radius:22px;
      background:radial-gradient(circle at top left,rgba(56,189,248,0.08),transparent 60%) , var(--bg-alt);
      border:1px solid rgba(31,41,55,0.95);
      box-shadow:var(--shadow-soft);
      overflow:hidden;
    }

    .dash-top{
      padding:16px 20px 14px;
      border-bottom:1px solid rgba(31,41,55,0.9);
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
      background:linear-gradient(to right,rgba(15,23,42,0.98),rgba(15,23,42,0.92));
    }
    .dash-top .title-block{
      display:flex;
      flex-direction:column;
      gap:2px;
    }
    .dash-top h2{
      font-size:1.1rem;
      font-weight:600;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .dash-top h2 .dot{
      width:8px;
      height:8px;
      border-radius:999px;
      background:var(--success);
      box-shadow:0 0 12px rgba(34,197,94,.9);
    }
    .dash-top .subtitle{
      font-size:.8rem;
      color:var(--text-soft);
    }
    .dash-top .mini-kpis{
      display:flex;
      gap:14px;
      font-size:.78rem;
      color:var(--text-soft);
    }
    .dash-top .mini-kpis span.label{
      text-transform:uppercase;
      letter-spacing:.12em;
      font-weight:500;
      color:#9ca3af;
    }
    .dash-top .mini-kpis span.value{
      font-weight:600;
      color:#e5e7eb;
    }

    .dash-body{
      display:grid;
      grid-template-columns:220px minmax(0,1fr);
      min-height:520px;
    }

    /* ===== MENU LATERAL ===== */
    .dash-menu{
      background:radial-gradient(circle at top,rgba(15,23,42,0.9),rgba(15,23,42,0.95));
      border-right:1px solid rgba(31,41,55,0.95);
      padding:16px 10px 16px 14px;
      display:flex;
      flex-direction:column;
      gap:14px;
    }
    .dash-menu .section-label{
      font-size:.7rem;
      text-transform:uppercase;
      letter-spacing:.16em;
      color:#6b7280;
      padding:0 6px;
    }
    .dash-menu button{
      width:100%;
      text-align:left;
      padding:8px 10px;
      margin-bottom:2px;
      border-radius:999px;
      border:1px solid transparent;
      background:transparent;
      color:var(--text-soft);
      font-size:.8rem;
      cursor:pointer;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .dash-menu button span.icon{
      width:20px;
      text-align:center;
      opacity:.9;
    }
    .dash-menu button span.label{
      flex:1;
    }
    .dash-menu button span.tag{
      font-size:.7rem;
      padding:2px 7px;
      background:rgba(15,23,42,0.9);
      border-radius:999px;
      border:1px solid rgba(55,65,81,0.9);
      color:#9ca3af;
    }
    .dash-menu button:hover{
      border-color:rgba(55,65,81,0.9);
      background:rgba(15,23,42,0.95);
      color:#e5e7eb;
    }
    .dash-menu button.active{
      background:var(--accent-soft);
      border-color:var(--accent);
      color:#e5f6ff;
    }
    .dash-menu button.active span.icon{
      color:var(--accent-strong);
    }

    /* ===== PANELS ===== */
    .dash-main{
      padding:16px 18px 20px;
      overflow:auto;
      background:radial-gradient(circle at top right,rgba(15,23,42,0.9),rgba(15,23,42,1));
    }
    .panel{
      display:none;
      animation:fadeIn .2s ease-out;
    }
    .panel.active{
      display:block;
    }
    .panel h2{
      font-size:1.05rem;
      margin-bottom:8px;
    }
    .panel p.description{
      font-size:.85rem;
      color:var(--text-soft);
      margin-bottom:14px;
    }

    @keyframes fadeIn{
      from{opacity:0;transform:translateY(4px);}
      to{opacity:1;transform:translateY(0);}
    }

    /* ===== KPI GRID DASHBOARD ===== */
    .kpi-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
      gap:12px;
      margin-bottom:16px;
    }
    .kpi-card{
      padding:11px 12px 10px;
      border-radius:var(--radius-md);
      background:linear-gradient(145deg,rgba(15,23,42,0.98),rgba(15,23,42,0.92));
      border:1px solid rgba(31,41,55,0.95);
    }
    .kpi-card .label{
      font-size:.78rem;
      color:var(--text-soft);
      margin-bottom:4px;
    }
    .kpi-card .value{
      font-size:1.1rem;
      font-weight:600;
    }
    .kpi-card .pill{
      margin-top:4px;
      font-size:.72rem;
      color:#9ca3af;
    }

    /* ===== LISTES ET TABLES ===== */
    .two-columns{
      display:grid;
      grid-template-columns: minmax(0,1.2fr) minmax(0,1fr);
      gap:14px;
    }

    .card-block{
      border-radius:var(--radius-md);
      background:var(--card);
      border:1px solid var(--border);
      padding:10px 12px;
    }
    .card-block h3{
      font-size:.9rem;
      margin-bottom:6px;
    }
    .card-block p.sub{
      font-size:.78rem;
      color:var(--text-soft);
      margin-bottom:8px;
    }

    table{
      width:100%;
      border-collapse:collapse;
      font-size:.78rem;
    }
    thead{
      background:rgba(15,23,42,0.95);
    }
    th,td{
      padding:6px 6px;
      border-bottom:1px solid rgba(31,41,55,0.9);
      text-align:left;
    }
    th{
      font-weight:500;
      color:#9ca3af;
      font-size:.75rem;
    }
    tbody tr:hover{
      background:rgba(15,23,42,0.9);
      cursor:pointer;
    }
    .badge-status{
      display:inline-flex;
      align-items:center;
      padding:2px 7px;
      border-radius:999px;
      border:1px solid rgba(55,65,81,0.8);
      font-size:.68rem;
    }
    .badge-status.en-cours{
      border-color:var(--accent);
      color:var(--accent-strong);
      background:rgba(15,23,42,0.96);
    }
    .badge-status.termine{
      border-color:var(--success);
      color:var(--success);
      background:rgba(15,23,42,0.96);
    }
    .badge-status.attente{
      border-color:var(--warning);
      color:var(--warning);
      background:rgba(15,23,42,0.96);
    }

    .toolbar{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      align-items:center;
      margin-bottom:10px;
    }
    .toolbar input[type="search"],
    .toolbar select{
      padding:7px 10px;
      border-radius:999px;
      border:1px solid rgba(55,65,81,0.9);
      background:rgba(15,23,42,0.96);
      color:var(--text);
      font-size:.78rem;
      outline:none;
    }
    .toolbar button{
      padding:7px 12px;
      border-radius:999px;
      border:1px solid rgba(56,189,248,0.7);
      background:var(--accent-soft);
      color:#e0f2fe;
      font-size:.78rem;
      cursor:pointer;
    }
    .toolbar button:hover{
      filter:brightness(1.05);
    }

    /* NOTES */
    .notes-list{
      list-style:none;
      max-height:260px;
      overflow:auto;
    }
    .notes-list li{
      padding:6px 6px 7px;
      border-bottom:1px dashed rgba(31,41,55,0.85);
      font-size:.78rem;
    }
    .notes-list li .title{
      font-weight:500;
    }
    .notes-list li .meta{
      font-size:.7rem;
      color:#9ca3af;
    }
    .note-editor input,
    .note-editor textarea{
      width:100%;
      border-radius:10px;
      border:1px solid rgba(55,65,81,0.9);
      background:rgba(15,23,42,0.98);
      color:var(--text);
      font-size:.8rem;
      padding:7px 9px;
      outline:none;
    }
    .note-editor textarea{
      min-height:110px;
      resize:vertical;
    }
    .note-editor input:focus,
    .note-editor textarea:focus{
      border-color:var(--accent);
      box-shadow:0 0 0 1px rgba(56,189,248,0.4);
    }
    .note-editor button{
      margin-top:6px;
      padding:7px 12px;
      border-radius:999px;
      border:none;
      background:linear-gradient(135deg,var(--accent),var(--accent-strong));
      color:#0b1120;
      font-size:.8rem;
      font-weight:600;
      cursor:pointer;
    }

    /* RESPONSIVE */
    @media(max-width:900px){
      .dash-body{
        grid-template-columns: minmax(0,1fr);
      }
      .dash-menu{
        flex-direction:row;
        overflow:auto;
        padding-right:12px;
      }
      .dash-menu button{
        white-space:nowrap;
      }
      .two-columns{
        grid-template-columns:1fr;
      }
    }
    @media(max-width:600px){
      .private-login{
        margin-top:26px;
        padding:18px 16px 16px;
      }
      .private-root{
        padding:0 10px 20px;
      }
      header.pr-header{
        padding:8px 12px;
      }
    }
  </style>
</head>
<body>

<header class="pr-header">
  <div class="brand">
    <img src="../img/logo.png" alt="Papo R√©nov" class="logo">
    <h1>Papo R√©nov‚Äô ‚Äì Espace priv√©</h1>
  </div>
  <nav>
    <a href="../index.html">‚Üê Retour au site</a>
  </nav>
</header>

<div class="private-root">

  <!-- ===== LOGIN ===== -->
  <section class="private-login" id="private-login">
    <h1>
      Espace de pilotage
      <span class="badge">Priv√©</span>
    </h1>
    <p>
      Acc√®s strictement r√©serv√© √† l‚Äôadministrateur.  
      G√©rez vos clients, chantiers, devis, partenaires et statistiques depuis un seul endroit.
    </p>
    <div class="field">
      <input type="password" id="private-code" placeholder="Mot de passe administrateur">
      <button id="private-enter">Entrer</button>
    </div>
    <div id="private-error"></div>
    <p class="hint">
      Astuce : ce mot de passe est diff√©rent de l‚Äôacc√®s PRO partenaire.  
      Vous pouvez le modifier directement dans le code de cette page (const <code>PRIVATE_CODE</code>).
    </p>
  </section>

  <!-- ===== DASHBOARD ===== -->
  <section id="private-dashboard">
    <div class="dash-top">
      <div class="title-block">
        <h2>
          <span class="dot"></span>
          Papo R√©nov‚Äô ‚Äì Tableau de bord priv√©
        </h2>
        <div class="subtitle">
          Vue d‚Äôensemble de votre activit√© : clients, devis, chantiers, partenaires et site web.
        </div>
      </div>
      <div class="mini-kpis">
        <div>
          <span class="label">Vue :</span>
          <span class="value" id="mini-view-label">Aujourd‚Äôhui</span>
        </div>
        <div>
          <span class="label">Mode :</span>
          <span class="value">Administrateur</span>
        </div>
      </div>
    </div>

    <div class="dash-body">
      <!-- MENU LATERAL -->
      <aside class="dash-menu">
        <div class="section-label">Vue g√©n√©rale</div>
        <button class="active" data-target="panel-dashboard">
          <span class="icon">üìä</span>
          <span class="label">Tableau de bord</span>
        </button>

        <div class="section-label">Gestion op√©rationnelle</div>
        <button data-target="panel-clients">
          <span class="icon">üë•</span>
          <span class="label">Clients</span>
        </button>
        <button data-target="panel-devis">
          <span class="icon">üìÑ</span>
          <span class="label">Devis</span>
        </button>
        <button data-target="panel-chantiers">
          <span class="icon">üß±</span>
          <span class="label">Chantiers</span>
        </button>
        <button data-target="panel-partenaires">
          <span class="icon">ü§ù</span>
          <span class="label">Partenaires & R√©compenses</span>
        </button>

        <div class="section-label">Suivi & ressources</div>
        <button data-target="panel-stats-site">
          <span class="icon">üìà</span>
          <span class="label">Stats du site</span>
        </button>
        <button data-target="panel-documents">
          <span class="icon">üìÇ</span>
          <span class="label">Documents</span>
        </button>
        <button data-target="panel-notes">
          <span class="icon">üìù</span>
          <span class="label">Notes & pense-b√™tes</span>
        </button>

        <div class="section-label">Technique</div>
        <button data-target="panel-admin">
          <span class="icon">‚öôÔ∏è</span>
          <span class="label">Admin</span>
          <span class="tag">Tech</span>
        </button>
      </aside>

      <!-- CONTENU PRINCIPAL -->
      <main class="dash-main">

        <!-- PANEL TABLEAU DE BORD -->
        <section id="panel-dashboard" class="panel active">
          <h2>Tableau de bord</h2>
          <p class="description">
            Synth√®se rapide de votre activit√©. Les donn√©es seront ensuite reli√©es √† votre fichier
            <strong>PAPORENOV_BACKOFFICE</strong> (clients, devis, chantiers, stats‚Ä¶).
          </p>

          <div class="kpi-grid">
            <div class="kpi-card">
              <div class="label">Chantiers en cours</div>
              <div class="value" id="kpi-chantiers-en-cours">0</div>
              <div class="pill">Bas√© sur l‚Äôonglet <code>chantiers</code></div>
            </div>
            <div class="kpi-card">
              <div class="label">Devis en attente</div>
              <div class="value" id="kpi-devis-attente">0</div>
              <div class="pill">Statut : <code>envoye</code> / <code>brouillon</code></div>
            </div>
            <div class="kpi-card">
              <div class="label">Clients actifs</div>
              <div class="value" id="kpi-clients-actifs">0</div>
              <div class="pill">Onglet <code>clients</code> (statut en_cours)</div>
            </div>
            <div class="kpi-card">
              <div class="label">Demandes depuis le site</div>
              <div class="value" id="kpi-demandes-site">0</div>
              <div class="pill">Onglet <code>stats_site</code> (demandes_devis)</div>
            </div>
          </div>

          <div class="two-columns">
            <div class="card-block">
              <h3>Chantiers en cours</h3>
              <p class="sub">Extrait des chantiers en statut <code>en_cours</code>. (Lecture Sheets √† brancher).</p>
              <table>
                <thead>
                  <tr>
                    <th>Chantier</th>
                    <th>Client</th>
                    <th>Statut</th>
                    <th>Fin pr√©vue</th>
                  </tr>
                </thead>
                <tbody id="dash-chantiers-body">
                  <tr>
                    <td colspan="4">Connexion aux donn√©es √† venir. Pour l‚Äôinstant, cette zone sert de maquette.</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="card-block">
              <h3>Derni√®res notes internes</h3>
              <p class="sub">Onglet <code>notes</code> de votre fichier backoffice.</p>
              <ul class="notes-list" id="dash-notes-list">
                <li>
                  <div class="title">Bienvenue dans votre espace priv√©</div>
                  <div class="meta">Tag : admin ‚Äì Cette note dispara√Ætra quand l‚Äôonglet sera connect√©.</div>
                </li>
              </ul>
            </div>
          </div>
        </section>

        <!-- PANEL CLIENTS -->
        <section id="panel-clients" class="panel">
          <h2>Clients</h2>
          <p class="description">
            Liste et fiches d√©taill√©es de vos clients. Les donn√©es viendront de l‚Äôonglet <code>clients</code>.
          </p>

          <div class="toolbar">
            <input type="search" id="search-client" placeholder="Rechercher un client (nom, email‚Ä¶)" />
            <select id="filter-clients-statut">
              <option value="">Tous les statuts</option>
              <option value="prospect">Prospect</option>
              <option value="en_cours">En cours</option>
              <option value="termine">Termin√©</option>
              <option value="perdu">Perdu</option>
            </select>
            <button id="btn-new-client" type="button">+ Nouveau client</button>
          </div>

          <div class="two-columns">
            <div class="card-block">
              <h3>Liste des clients</h3>
              <table id="clients-table">
                <thead>
                  <tr>
                    <th>Client</th>
                    <th>Projet</th>
                    <th>Statut</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>‚Äî</td>
                    <td>‚Äî</td>
                    <td><span class="badge-status attente">en attente de donn√©es</span></td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="card-block" id="client-details">
              <h3>Fiche client</h3>
              <p class="sub">S√©lectionnez un client dans la liste pour afficher les d√©tails.</p>
              <p style="font-size:.8rem;color:var(--text-soft);">
                Cette zone affichera : coordonn√©es, historique devis, chantiers li√©s, notes internes.
              </p>
            </div>
          </div>
        </section>

        <!-- PANEL DEVIS -->
        <section id="panel-devis" class="panel">
          <h2>Devis</h2>
          <p class="description">
            Suivi des devis (brouillons, envoy√©s, accept√©s, refus√©s, sign√©s). Source : onglet <code>devis</code>.
          </p>

          <div class="toolbar">
            <select id="filter-devis-status">
              <option value="">Tous les statuts</option>
              <option value="brouillon">Brouillon</option>
              <option value="envoye">Envoy√©</option>
              <option value="accepte">Accept√©</option>
              <option value="refuse">Refus√©</option>
              <option value="signe">Sign√©</option>
            </select>
            <button id="btn-new-devis" type="button">+ Nouveau devis (√† venir)</button>
          </div>

          <div class="card-block">
            <h3>Liste des devis</h3>
            <table id="devis-table">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Client</th>
                  <th>Montant HT</th>
                  <th>Statut</th>
                  <th>Date</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>DEV-0001</td>
                  <td>‚Äî</td>
                  <td>‚Äî</td>
                  <td><span class="badge-status attente">non connect√©</span></td>
                  <td>‚Äî</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- PANEL CHANTIERS -->
        <section id="panel-chantiers" class="panel">
          <h2>Chantiers</h2>
          <p class="description">
            Vue globale des chantiers planifi√©s, en cours et termin√©s. Source : onglet <code>chantiers</code>.
          </p>

          <div class="toolbar">
            <select id="filter-chantiers-status">
              <option value="">Tous les statuts</option>
              <option value="preparation">Pr√©paration</option>
              <option value="en_cours">En cours</option>
              <option value="en_pause">En pause</option>
              <option value="termine">Termin√©</option>
              <option value="sav">SAV</option>
            </select>
          </div>

          <div class="two-columns">
            <div class="card-block">
              <h3>Liste des chantiers</h3>
              <table id="chantiers-table">
                <thead>
                  <tr>
                    <th>Chantier</th>
                    <th>Client</th>
                    <th>Statut</th>
                    <th>Fin pr√©vue</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>‚Äî</td>
                    <td>‚Äî</td>
                    <td><span class="badge-status attente">√† connecter</span></td>
                    <td>‚Äî</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="card-block" id="chantier-details">
              <h3>D√©tail chantier</h3>
              <p class="sub">S√©lectionnez un chantier pour afficher les informations d√©taill√©es.</p>
              <p style="font-size:.8rem;color:var(--text-soft);">
                Informations pr√©vues : type de projet, adresse, planning, responsable, notes, liens photos.
              </p>
            </div>
          </div>
        </section>

        <!-- PANEL PARTENAIRES -->
        <section id="panel-partenaires" class="panel">
          <h2>Partenaires & R√©compenses</h2>
          <p class="description">
            Synth√®se des partenaires et de leurs compteurs (poses attribu√©es, sans SAV, jours offerts).
            Bas√© sur vos onglets <code>partenaires</code>, <code>partner_stats</code> et <code>partner_logs</code>.
          </p>

          <div class="card-block">
            <h3>Liste des partenaires</h3>
            <table id="partenaires-table">
              <thead>
                <tr>
                  <th>Partenaire</th>
                  <th>Contact</th>
                  <th>Type</th>
                  <th>Poses attribu√©es</th>
                  <th>Sans SAV</th>
                  <th>Jours offerts (estim√©)</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>‚Äî</td>
                  <td>‚Äî</td>
                  <td>‚Äî</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- PANEL STATS SITE -->
        <section id="panel-stats-site" class="panel">
          <h2>Statistiques du site</h2>
          <p class="description">
            Vue synth√©tique de l‚Äôactivit√© de votre site (visites, demandes de devis, clics contact).
            Source initiale : onglet <code>stats_site</code>. Connexion √† Google Analytics possible plus tard.
          </p>

          <div class="kpi-grid">
            <div class="kpi-card">
              <div class="label">Visites (p√©riode r√©cente)</div>
              <div class="value" id="kpi-visites">0</div>
              <div class="pill">Onglet stats_site</div>
            </div>
            <div class="kpi-card">
              <div class="label">Demandes de devis</div>
              <div class="value" id="kpi-demande-devis">0</div>
              <div class="pill">Bas√© sur demandes_devis</div>
            </div>
            <div class="kpi-card">
              <div class="label">Clics ‚ÄúContact‚Äù</div>
              <div class="value" id="kpi-clics-contact">0</div>
              <div class="pill">Colonnes clics_contact</div>
            </div>
          </div>

          <div class="card-block">
            <h3>Graphique d‚Äô√©volution (placeholder)</h3>
            <p class="sub">
              Cette zone pourra accueillir un graphique (visites / demandes / conversions) quand on aura branch√©
              soit votre onglet <code>stats_site</code>, soit Google Analytics.
            </p>
            <div id="stats-chart" style="height:180px;border-radius:10px;border:1px dashed rgba(55,65,81,0.9);display:flex;align-items:center;justify-content:center;font-size:.8rem;color:#6b7280;">
              Graphique √† venir ‚Äî pour l‚Äôinstant, maquette visuelle uniquement.
            </div>
          </div>
        </section>

        <!-- PANEL DOCUMENTS -->
        <section id="panel-documents" class="panel">
          <h2>Documents</h2>
          <p class="description">
            Biblioth√®que de documents (mod√®les, contrats, factures fournisseurs‚Ä¶). Source : onglet <code>documents</code>.
          </p>

          <div class="toolbar">
            <select id="filter-doc-category">
              <option value="">Toutes les cat√©gories</option>
              <option value="contrat">Contrats</option>
              <option value="modele">Mod√®les</option>
              <option value="facture_fournisseur">Factures fournisseurs</option>
              <option value="modele_devis">Mod√®les de devis</option>
              <option value="autre">Autres</option>
            </select>
            <button id="btn-new-doc" type="button">+ Ajouter un document (manuellement au d√©but)</button>
          </div>

          <div class="card-block">
            <h3>Liste des documents</h3>
            <table id="documents-table">
              <thead>
                <tr>
                  <th>Cat√©gorie</th>
                  <th>Libell√©</th>
                  <th>Lien</th>
                  <th>Commentaire</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>‚Äî</td>
                  <td>‚Äî</td>
                  <td>‚Äî</td>
                  <td>Onglet documents √† connecter</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- PANEL NOTES -->
        <section id="panel-notes" class="panel">
          <h2>Notes & pense-b√™tes</h2>
          <p class="description">
            Zone de notes interne (id√©es, t√¢ches, rappels). Source : onglet <code>notes</code>.
          </p>

          <div class="two-columns">
            <div class="card-block">
              <h3>Liste des notes</h3>
              <ul class="notes-list" id="notes-list">
                <li>
                  <div class="title">Exemple de note</div>
                  <div class="meta">Tag : admin ‚Äì Cette liste sera aliment√©e par l‚Äôonglet notes.</div>
                  <div class="meta">Contenu : pense-b√™tes, id√©es, choses √† appeler, mat√©riel √† commander‚Ä¶</div>
                </li>
              </ul>
            </div>

            <div class="card-block note-editor">
              <h3>Nouvelle note (maquette)</h3>
              <input type="text" id="note-title" placeholder="Titre de la note">
              <textarea id="note-content" placeholder="Contenu, d√©tails, id√©es‚Ä¶"></textarea>
              <input type="text" id="note-tag" placeholder="Tag (urgent, id√©e, admin, perso, etc.)">
              <button id="btn-save-note" type="button">Enregistrer (√† connecter plus tard)</button>
            </div>
          </div>
        </section>

        <!-- PANEL ADMIN -->
        <section id="panel-admin" class="panel">
          <h2>Mode Admin</h2>
          <p class="description">
            Liens rapides vers les outils techniques (Sheets, Apps Script, GitHub) et v√©rification de l‚ÄôAPI.
          </p>

          <div class="card-block" style="margin-bottom:12px;">
            <h3>Liens Backoffice</h3>
            <p class="sub">Adapte les URL ci-dessous avec tes liens r√©els (Sheets, Apps Script, GitHub).</p>
            <ul style="font-size:.8rem;line-height:1.6;">
              <li>üìë Fichier Backoffice : <span style="color:#93c5fd;">√† renseigner (URL Sheets)</span></li>
              <li>üí∂ Fichier Tarifs : <span style="color:#93c5fd;">d√©j√† utilis√© pour tes pages tarifs</span></li>
              <li>‚öôÔ∏è Apps Script WebApp : <span style="color:#93c5fd;">ton URL actuelle /exec</span></li>
              <li>üíª D√©p√¥t GitHub : <span style="color:#93c5fd;">https://github.com/‚Ä¶/papo-renov</span></li>
            </ul>
          </div>

          <div class="card-block">
            <h3>Test rapide API (maquette)</h3>
            <p class="sub">
              On pourra ici tester rapidement si l‚ÄôAPI Apps Script r√©pond (ping, tarifs, partenaires‚Ä¶). Pour l‚Äôinstant,
              c‚Äôest une zone r√©serv√©e √† la phase de branchement.
            </p>
            <button type="button" style="font-size:.78rem;">Tester l‚ÄôAPI (√† brancher plus tard)</button>
          </div>
        </section>

      </main>
    </div>
  </section>
</div>

<script>
  // =========================
  // MOT DE PASSE ESPACE PRIV√â
  // =========================
  const PRIVATE_CODE = "KEVIN-2025-SUPERADMIN"; // üîê change-le comme tu veux

  const loginSection    = document.getElementById('private-login');
  const dashboard       = document.getElementById('private-dashboard');
  const inputPrivate    = document.getElementById('private-code');
  const btnPrivateEnter = document.getElementById('private-enter');
  const privateError    = document.getElementById('private-error');

  function unlockIfValid(){
    const value = (inputPrivate.value || '').trim();
    if(!value){
      privateError.textContent = "Merci de saisir le mot de passe administrateur.";
      return;
    }
    if(value === PRIVATE_CODE){
      privateError.textContent = "";
      loginSection.style.display = 'none';
      dashboard.style.display = 'block';
      // petit effet de focus sur la vue principale
      document.getElementById('mini-view-label').textContent = "Vue globale";
      window.scrollTo({top:0,behavior:'smooth'});
    }else{
      privateError.textContent = "Mot de passe incorrect.";
    }
  }

  btnPrivateEnter.addEventListener('click', unlockIfValid);
  inputPrivate.addEventListener('keydown', (e)=>{
    if(e.key === 'Enter'){ unlockIfValid(); }
  });

  // =========================
  // NAVIGATION ENTRE PANELS
  // =========================
  const menuButtons = document.querySelectorAll('.dash-menu button');
  const panels = document.querySelectorAll('.panel');

  menuButtons.forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const targetId = btn.dataset.target;
      if(!targetId) return;
      menuButtons.forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      panels.forEach(p=>{
        if(p.id === targetId) p.classList.add('active');
        else p.classList.remove('active');
      });
    });
  });

  // Pour l‚Äôinstant, toutes les donn√©es affich√©es sont statiques.
  // Phase suivante : brancher chaque panel √† ton fichier Sheets PAPORENOV_BACKOFFICE
  // via Apps Script (exactement comme pour tes pages de tarifs / partenaires).
</script>

</body>
</html>
