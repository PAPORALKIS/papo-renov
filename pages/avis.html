<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Avis clients - Papo Rénov</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="../style.css" />
  <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet" />
  <style>
    /* Conteneur général centré avec max-width pour limiter la largeur */
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 0 1rem;
      box-sizing: border-box;
      overflow-x: hidden; /* éviter débordement horizontal */
      background: #fff;
    }
    header {
      max-width: 900px;
      margin: 0 auto;
      padding: 1rem 0;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    nav ul {
      list-style: none;
      display: flex;
      gap: 1rem;
      padding: 0;
      margin: 0;
    }
    nav ul li a {
      text-decoration: none;
      color: #003366;
      font-weight: 600;
    }
    nav ul li a.active {
      text-decoration: underline;
    }

    .logo img {
      max-height: 50px;
      width: auto;
    }

    /* --- Section Avis --- */
    .avis-section {
      width: 90%;
      max-width: 900px;
      margin: 40px auto;
    }

    .avis-section h1 {
      text-align: center;
      font-size: 2em;
      margin-bottom: 10px;
    }

    .avis-section p.subtitle {
      text-align: center;
      margin-bottom: 30px;
      color: #666;
    }

    .avis {
      background: white;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .avis img {
      width: 100px;
      height: 80px;
      object-fit: cover;
      border-radius: 8px;
      cursor: pointer;
      transition: transform 0.3s;
    }

    .avis img:hover {
      transform: scale(1.05);
    }

    .avis-content {
      flex: 1;
    }

    .avis strong {
      color: #0d2c54;
    }

    /* --- Lightbox (zoom image) --- */
    .lightbox {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.9);
      justify-content: center;
      align-items: center;
    }

    .lightbox img {
      max-width: 90%;
      max-height: 80%;
      border-radius: 10px;
      box-shadow: 0 0 20px #000;
    }

    .lightbox:target {
      display: flex;
    }

    .close {
      position: absolute;
      top: 20px;
      right: 40px;
      font-size: 30px;
      color: white;
      text-decoration: none;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <!-- Header identique aux autres pages -->
  <header>
  <div class="logo">
    <img src="../img/logo.png" alt="Logo Paporalkis" />
  </div>
  <nav>
    <ul>
      <li><a href="../index.html">Accueil</a></li>
      <li><a href="devis.html">Demande de devis</a></li>
      <li><a href="realisations.html">Mes réalisations</a></li>
      <li><a href="tarifs.html">Tarifs</a></li>
      <li><a href="planning.html">Planning</a></li>
      <li><a href="contact.html">Contact</a></li>
      <li><a href="avis.html"class="active" >Avis clients</a></li>
    </ul>
  </nav>
</header>

  <!-- Section Avis -->
  <section class="avis-section">
    <h1>Vos avis sur Papo Rénov</h1>
    <p class="subtitle">Découvrez ce que nos clients disent de nos réalisations et services.</p>

    <!-- Avis Sophie -->
    <div class="avis">
      <a href="#img1"><img src="../img/meuble-laura-1.jpg" alt="Montage de meubles en KIT"></a>
      <div class="avis-content">
        ⭐⭐⭐⭐⭐ – <strong>Sophie M.</strong>
        <p><em>« Travail impeccable et rapide. Je recommande vivement ! »</em></p>
        <small>Publié le 15 juin 2025</small>
      </div>
    </div>

    <!-- Avis Laura  -->
    <div class="avis">
      <a href="#img2"><img src="../img/escalier SPACEO.png" alt="Projet dressing Karim"></a>
      <div class="avis-content">
        ⭐⭐⭐⭐⭐ – <strong>Laura B.</strong>
        <p><em>« J’ai fais appel à PAPO RENOV pour l’agencement de mes placards sur-mesure.. Travail soigné, personne rigoureuse et sérieuse. Je suis très contente du travail effectué et des conseils qui m’ont été donnés. ” »</em></p>
        <small>Publié Juin 2025</small>
      </div>
    </div>
  </section>

  <!-- Lightbox (zoom images projets) -->
  <div id="img1" class="lightbox">
    <a href="#" class="close">&times;</a>
    <img src="../img/escalier SPACEO.png" alt="Projet cuisine Sophie">
  </div>

  <div id="img2" class="lightbox">
    <a href="#" class="close">&times;</a>
    <img src="../img/escalier SPACEO.png" alt="Projet dressing Karim">
  </div>

<!-- Visionneuse Zoom avec regroupement -->
<div class="zoom-viewer" id="zoomViewer">
  <span class="close-btn">&times;</span>
  <div class="zoom-content-wrapper">
    <div class="zoom-main-content">
      <div class="zoom-image-container">
        <img id="zoomImage" src="" alt="zoom">
      </div>
      <div class="zoom-comment" id="zoomComment"></div>
    </div>
  </div>

  <div class="zoom-linked-images-container" id="zoomLinkedImagesContainer">
    <button class="nav-arrow left" id="zoomNavLeft">&lt;</button>
    <div class="zoom-linked-images" id="zoomLinkedImages"></div>
    <button class="nav-arrow right" id="zoomNavRight">&gt;</button>
  </div>
</div>
  <script>
  const zoomViewer = document.getElementById("zoomViewer");
  const zoomImage = document.getElementById("zoomImage");
  const zoomComment = document.getElementById("zoomComment");
  const zoomLinkedImages = document.getElementById("zoomLinkedImages");
  const zoomNavLeft = document.getElementById("zoomNavLeft");
  const zoomNavRight = document.getElementById("zoomNavRight");
  const closeBtn = document.querySelector('.close-btn');

  let currentZoomData = null;
  let currentLinkedImageIndex = 0;

  // Fonction pour afficher la vue zoomée
  function showZoom(data) {
    currentZoomData = data;
    zoomComment.innerHTML = `<p>${data.comment || ''}</p>`;
    zoomLinkedImages.innerHTML = '';

    const imagesToDisplay = [data.src, ...(data.linkedImages || [])];

    imagesToDisplay.forEach((src, idx) => {
      const thumb = document.createElement("img");
      thumb.src = src;
      thumb.addEventListener("click", () => {
        currentLinkedImageIndex = idx;
        zoomImage.src = src;
        document.querySelectorAll(".zoom-linked-images img").forEach(img => img.classList.remove("active"));
        thumb.classList.add("active");
      });
      zoomLinkedImages.appendChild(thumb);
    });

    currentLinkedImageIndex = 0;
    zoomImage.src = imagesToDisplay[0];
    zoomViewer.style.display = "flex";
  }

  // Navigation gauche/droite
  function navigateLinkedImages(direction) {
    if (!currentZoomData) return;
    const imagesToDisplay = [currentZoomData.src, ...(currentZoomData.linkedImages || [])];
    currentLinkedImageIndex = (currentLinkedImageIndex + direction + imagesToDisplay.length) % imagesToDisplay.length;
    zoomImage.src = imagesToDisplay[currentLinkedImageIndex];
  }

  zoomNavLeft.addEventListener("click", () => navigateLinkedImages(-1));
  zoomNavRight.addEventListener("click", () => navigateLinkedImages(1));

  closeBtn.addEventListener("click", () => {
    zoomViewer.style.display = "none";
  });
</script>
</body>
</html>
