<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Courtage Cuisine ‚Äì Offre 100% Gratuite | Papo-R√©nov</title>
<meta name="description" content="Service de courtage cuisine 100% gratuit : je n√©gocie pour vous le meilleur prix aupr√®s de mes partenaires et fournisseurs. Condition : me confier la pose et les travaux. Devis et comparatif offerts." />
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../style.css">
<style>
/* ====== THEME ====== */
:root{
  --brand:#0b2a4a;       /* Bleu marine Papo-R√©nov */
  --brand-2:#1c4b78;
  --accent:#f2b705;
  --bg:#f6f8fc;
  --text:#0f172a;
  --muted:#667085;
  --card:#ffffff;
  --ring:rgba(12,18,30,.12);
  --ok:#0c6c3e;
  --danger:#b42318;
  --shadow:0 10px 26px rgba(8,15,40,.06), 0 2px 8px rgba(8,15,40,.05);
  --radius:18px;
  --w:1200px;
}
*{box-sizing:border-box}
html,body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;
  position:relative;
  overflow-x:hidden;
}

img{max-width:100%;display:block}
a{color:inherit}

/* ====== FILIGRANE LOGO Papo-R√©nov (fixe & centr√©) ====== */
body::before{
  content:"";
  position:fixed;
  inset:0; /* couvre tout le viewport */
  background:url("../img/logo.png") center center / 45vmin no-repeat;
  opacity:0.008;
  z-index:-1;
  pointer-events:none;
}

/* ====== NAVBAR (CONSERV√âE) ====== */
.nav{position:sticky;top:0;z-index:40;background:rgba(255,255,255,.92);backdrop-filter:saturate(140%) blur(8px);border-bottom:1px solid rgba(15,23,42,.06);box-shadow:var(--shadow);}
.nav__in{max-width:var(--w);margin:auto;display:flex;align-items:center;gap:16px;padding:12px 20px}
.logo{display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.2px;color:var(--brand)}
.logo__mark{width:34px;height:34px;border-radius:12px;background:conic-gradient(from 230deg,var(--brand),var(--brand-2));box-shadow:0 4px 10px rgba(12, 18, 30, 0.2);position:relative}
.logo__mark::after{content:"P";position:absolute;inset:0;display:grid;place-items:center;color:#fff;font-weight:900}
.nav__links{margin-left:auto;display:flex;gap:6px;flex-wrap:wrap}
.nav__links a{padding:10px 14px;border-radius:12px;text-decoration:none}
.nav__links a.active{background:#eef2ff;color:var(--brand);font-weight:700}
.nav__links a:hover{background:#f2f4ff}

/* ====== TYPO ====== */
h1, h2, h3, .logo, .btn { font-family: 'Poppins', sans-serif; letter-spacing:-0.2px; }
h1{ margin:12px 0 16px; font-size:clamp(26px,3.2vw,44px); line-height:1.1; }
h2{ margin:0 0 24px; font-size:clamp(24px,2.5vw,36px); text-align:center; position:relative; padding-bottom:8px; padding-top:10px; }
h3{ margin:0 0 10px; font-size:18px; }
.muted, .note, p { line-height:1.65; }
u{ text-decoration:none !important; }

/* ====== HERO ====== */
.hero{
  position:relative;
  overflow:hidden;
  background-color:#ffffff;
  padding-bottom:42px;
}
.hero::before {
  content:'';
  position:absolute; inset:0;
  background:url('../img/cuisine-flou.jpg') center top no-repeat;
  background-size:cover;
  filter:grayscale(100%) blur(4px) brightness(1.4);
  opacity:.8; z-index:1;
}
.hero__in{
  max-width:var(--w); margin:auto; padding:42px 20px;
  display:grid; grid-template-columns:1fr; gap:28px; align-items:center;
  position:relative; z-index:2;
}
.badge{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:#fff;border:1px solid var(--ring)}
.badge b{color:var(--brand)}
.lead{color:var(--muted);font-size:clamp(16px,1.6vw,18px)}
.hero__card{background:var(--card);border:none;border-radius:var(--radius);box-shadow:var(--shadow);padding:20px;position:relative;z-index:3}
.kv{display:none !important}

/* ====== BUTTONS ====== */
.btn{appearance:none;border:0;border-radius:14px;padding:12px 18px;background:var(--brand);color:#fff;font-weight:700;cursor:pointer;box-shadow:var(--shadow);transition:all .2s}
.btn:hover{filter:brightness(1.06)}
.btn--ghost{background:#fff;color:var(--brand);border:1px solid var(--ring)}
.btn--accent{background:var(--accent);color:var(--brand);box-shadow:0 6px 16px rgba(242,183,5,.4)}
.btn--accent:hover{transform:translateY(-2px);box-shadow:0 8px 20px rgba(242,183,5,.5);filter:none}

/* ====== LAYOUT ====== */
.section{max-width:var(--w);margin:34px auto;padding:0 20px}
.grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
.card{background:var(--card);border:1px solid rgba(15,23,42,.08);border-radius:16px;box-shadow:0 4px 18px rgba(8,15,40,.04);padding:18px;transition:transform .3s ease-out}
.card:hover{transform:translateY(-3px);box-shadow:0 8px 22px rgba(8,15,40,.08)}
.muted{color:var(--muted)}

/* ====== STEPS ====== */
.steps{display:grid;grid-template-columns:repeat(5,1fr);gap:14px}
.step{background:#fff;border:1px solid var(--ring);border-radius:14px;padding:16px;box-shadow:none;text-align:center}
.step .num{width:30px;height:30px;border-radius:999px;background:var(--brand);color:#fff;display:grid;place-items:center;font-weight:800;margin:0 auto 10px;box-shadow:0 3px 8px rgba(12, 18, 30, 0.2)}

/* ====== TABLE ====== */
.table{width:100%;border-collapse:separate;border-spacing:0;overflow:hidden;border-radius:10px;border:1px solid var(--ring);background:#fff;box-shadow:0 8px 20px rgba(8,15,40,.06)}
.table th,.table td{padding:14px;border-bottom:1px solid rgba(12,18,30,.08);text-align:left;font-size:15px}
.table thead th{background:var(--brand-2);color:#fff;font-weight:600;border-bottom:none}
.badge-ok{display:inline-block;background:var(--ok);color:#fff;padding:4px 8px;border-radius:999px;font-weight:700;font-size:12px}
.badge-no{display:inline-block;background:var(--danger);color:#fff;padding:4px 8px;border-radius:999px;font-weight:700;font-size:12px}

/* ====== FAQ ====== */
details{background:#fff;border:1px solid rgba(15,23,42,.08);border-radius:14px;padding:14px 16px;box-shadow:0 4px 18px rgba(8,15,40,.04);transition:transform .3s ease-out}
details:hover{transform:translateY(-2px);box-shadow:0 6px 18px rgba(8,15,40,.06)}
summary{cursor:pointer;font-weight:700}

/* ====== FORM ====== */
.form{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.form .full{grid-column:1/-1}
.input{display:grid;gap:6px}
.input input,.input textarea,.input select{
  width:100%;padding:12px 13px;border-radius:12px;border:1px solid var(--ring);background:#fff;font:inherit;transition:border-color .2s, box-shadow .2s;
}
.input input:focus,.input textarea:focus,.input select:focus{border-color:var(--brand);outline:none;box-shadow:0 0 0 3px rgba(11,42,74,.1)}
.help{font-size:12px;color:var(--muted)}
.note{font-size:14px;color:var(--muted)}

/* ====== CTA ====== */
.cta{display:grid;grid-template-columns:1.2fr .8fr;gap:18px;align-items:center}
.cta .panel{background:linear-gradient(180deg,#ffffff 0%,#f9fbff 100%);border:1px solid var(--ring);border-radius:18px;box-shadow:var(--shadow);padding:18px}

/* ====== FOOTER ====== */
.footer{max-width:var(--w);margin:24px auto 56px;padding:0 20px;color:var(--muted);font-size:14px}

/* ====== CALENDAR + MODAL (AJOUT) ====== */
.kal{max-width:var(--w);margin:34px auto;padding:0 20px}
.kal__grid{background:#fff;border:1px solid var(--ring);border-radius:16px;box-shadow:var(--shadow);overflow:hidden}
.kal__head{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid rgba(15,23,42,.08)}
.kal__btn{background:#fff;border:1px solid var(--ring);border-radius:10px;padding:8px 10px;cursor:pointer}
.kal__month{font-weight:700}
.kal__table{width:100%;border-collapse:collapse}
.kal__table th,.kal__table td{width:14.285%;text-align:center;padding:12px}
.kal__table th{font-weight:600;color:var(--muted);background:#fafbff;border-bottom:1px solid rgba(15,23,42,.08)}
.kal__day{border:1px solid transparent;border-radius:10px;padding:10px;cursor:pointer}
.kal__day:hover{background:#f7f9ff;border-color:#e6ecff}
.kal__day--muted{color:#98a2b3}
.kal__day--today{outline:2px solid #e6ecff}

/* Modal */
.modal{position:fixed;inset:0;background:rgba(2,6,23,.5);display:none;align-items:center;justify-content:center;padding:20px;z-index:999}
.modal__in{width:min(640px,96vw);background:#fff;border-radius:18px;box-shadow:var(--shadow);padding:18px}
.modal__title{margin:0 0 12px;text-align:center}
.modal__close{position:absolute;right:18px;top:18px;background:#fff;border:1px solid var(--ring);border-radius:10px;padding:6px 10px;cursor:pointer}
.modal__foot{margin-top:8px;color:var(--muted);font-size:14px}

/* ====== RESPONSIVE ====== */
@media (max-width:980px){
  .hero__in{grid-template-columns:1fr;gap:18px}
  .grid-3{grid-template-columns:1fr 1fr}
  .steps{grid-template-columns:1fr 1fr;gap:12px}
  .cta{grid-template-columns:1fr}
  .form{grid-template-columns:1fr}
}
@media (max-width:640px){
  .grid-3{grid-template-columns:1fr}
}
</style>
</head>
<body>
<header>
  <div class="logo">
    <img src="../img/logo.png" alt="Logo Papo R√©nov">
  </div>
  <nav>
    <ul>
      <li><a href="../index.html">Accueil</a></li>
      <li><a href="devis.html">Demande de devis</a></li>
      <li><a href="realisations.html">Mes r√©alisations</a></li>
      <li><a href="tarifs.html">Tarifs</a></li>
      <li><a href="planning.html">Planning</a></li>
      <li><a href="contact.html">Contact</a></li>
      <li><a href="avis.html">Avis clients</a></li>
      <li><a class="active" href="courtage-cuisine.html">Courtage Cuisine</a></li>
    </ul>
  </nav>
</header>

<header class="hero">
  <div class="hero__in">
    <div>
      <span class="badge">‚úÖ <b>Offre 100% gratuite</b> (voir conditions)</span>
      <h1>Je n√©gocie pour vous le meilleur prix de votre cuisine</h1>
      <p class="lead">
        Gr√¢ce √† mes **connaissances**, **partenaires** et **fournisseurs**, je compare et n√©gocie vos devis cuisine.
        <br>**Condition** : vous me confiez la **pose** et les **travaux**. Aucuns frais de courtage pour vous.
      </p>
      <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:12px">
        <a href="#brief" class="btn btn--accent">Obtenir mon comparatif gratuit</a>
        <a href="#faq" class="btn btn--ghost">Comment √ßa marche ?</a>
      </div>
      <div class="hero__card" style="margin-top:14px">
        <div style="display:flex;gap:10px;flex-wrap:wrap">
          <div style="display:flex;gap:8px;align-items:flex-start">
            <span aria-hidden="true">üí∂</span>
            <div>
              <b>N√©gociation prix & remises</b>
              <div class="muted">Showrooms & fournisseurs partenaires, sans favoritisme.</div>
            </div>
          </div>
          <div style="display:flex;gap:8px;align-items:flex-start">
            <span aria-hidden="true">üìê</span>
            <div>
              <b>Plan & validation technique</b>
              <div class="muted">V√©rif. faisabilit√© avant commande.</div>
            </div>
          </div>
          <div style="display:flex;gap:8px;align-items:flex-start">
            <span aria-hidden="true">üß∞</span>
            <div>
              <b>Pose sous contr√¥le</b>
              <div class="muted">Travaux par mes soins, garantie pro.</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    </div>
</header>

<section class="section">
  <div class="grid-3">
    <article class="card">
      <h3>Gratuit pour vous</h3>
      <p class="muted">Mon service de courtage est √† 0‚Ç¨. Ma r√©mun√©ration provient des <b>travaux de pose</b> que vous me confiez (transparence totale).</p>
    </article>
    <article class="card">
      <h3>Ind√©pendant & transparent</h3>
      <p class="muted">Je consulte plusieurs enseignes/fournisseurs pour un comparatif honn√™te, selon vos crit√®res (style, d√©lais, budget).</p>
    </article>
    <article class="card">
      <h3>Gain de temps & d‚Äôargent</h3>
      <p class="muted">Vous √©vitez les allers-retours en magasin ; je n√©gocie pour vous pour obtenir le meilleur rapport qualit√©/prix.</p>
    </article>
  </div>
</section>

<section class="section">
  <h2>Comment √ßa marche ?</h2>
  <div class="steps" aria-label="√âtapes du service">
    <div class="step"><div class="num">1</div><b>Brief express</b><div class="muted">Dimensions, envies, budget ‚Äî 10 min suffisent.</div></div>
    <div class="step"><div class="num">2</div><b>Comparatif</b><div class="muted">Je sollicite mes partenaires & r√©cup√®re des offres.</div></div>
    <div class="step"><div class="num">3</div><b>N√©go & conseils</b><div class="muted">Je d√©fends vos int√©r√™ts & s√©curise le plan.</div></div>
    <div class="step"><div class="num">4</div><b>Choix final</b><div class="muted">Vous validez l‚Äôoffre qui vous convient.</div></div>
    <div class="step"><div class="num">5</div><b>Pose par mes soins</b><div class="muted">Travaux r√©alis√©s avec garantie pro.</div></div>
  </div>
</section>

<section class="section">
  <h2>Comparatif type (exemple)</h2>
  <div style="overflow:auto">
    <table class="table" role="table">
      <thead>
        <tr><th>Crit√®re</th><th>Enseigne A</th><th>Enseigne B</th><th>Fournisseur C</th><th>Objectif</th></tr>
      </thead>
      <tbody>
        <tr><td>Prix meubles</td><td>‚Ç¨‚Ç¨</td><td>‚Ç¨</td><td>‚Ç¨‚Ç¨‚Ç¨</td><td>‚Ç¨ le plus bas √† qualit√© √©gale</td></tr>
        <tr><td>Plan de travail</td><td>Stratifi√©</td><td>Quartz</td><td>Compact HPL</td><td>Mat√©riau adapt√© usage/budget</td></tr>
        <tr><td>D√©lais</td><td>2‚Äì3 sem</td><td>1‚Äì2 sem</td><td>4‚Äì5 sem</td><td>Synchronis√© avec planning travaux</td></tr>
        <tr><td>N√©gociation</td><td><span class="badge-ok">-10% obtenu</span></td><td><span class="badge-ok">Livraison offerte</span></td><td><span class="badge-no">Non pertinent</span></td><td>Maximiser les avantages</td></tr>
      </tbody>
    </table>
  </div>
  <p class="note">Exemple indicatif. Le comparatif r√©el d√©pend de votre brief, marque choisie, mat√©riaux et d√©lais souhait√©s.</p>
</section>

<section class="section">
  <div class="grid-3">
    <div class="card">
      <h3>Pas de frais cach√©s</h3>
      <p class="muted">Le courtage est gratuit. Vous ne payez que la cuisine choisie + la pose, avec devis d√©taill√©s.</p>
    </div>
    <div class="card">
      <h3>Assurance & garanties</h3>
      <p class="muted">Travaux couverts par mes garanties pro (RC, d√©cennale selon nature des travaux).</p>
    </div>
    <div class="card">
      <h3>Un seul interlocuteur</h3>
      <p class="muted">Je pilote vos devis, le planning et la pose jusqu‚Äô√† la r√©ception.</p>
    </div>
  </div>
</section>

<section id="faq" class="section">
  <h2>Questions fr√©quentes</h2>
  <div class="card" style="display:grid;gap:10px">
    <details>
      <summary>Pourquoi c‚Äôest gratuit pour moi ?</summary>
      <p class="muted">Parce que je suis r√©mun√©r√© sur la <b>prestation de pose/travaux</b> que vous me confiez. Aucuns frais de courtage ne vous sont factur√©s.</p>
    </details>
    <details>
      <summary>√ätes-vous li√© √† une enseigne ?</summary>
      <p class="muted">Non. Je consulte plusieurs marques/fournisseurs selon vos crit√®res. Mon r√¥le : obtenir la meilleure proposition pour vous.</p>
    </details>
    <details>
      <summary>Que se passe-t-il si je ne vous confie pas la pose ?</summary>
      <p class="muted">Le service de courtage <b>gratuit</b> est conditionn√© √† la r√©alisation des travaux par mes soins. Sans cette condition, le temps d‚Äô√©tude et de n√©gociation fait l‚Äôobjet d‚Äôun forfait.</p>
    </details>
    <details>
      <summary>En combien de temps puis-je avoir un comparatif ?</summary>
      <p class="muted">G√©n√©ralement <b>48 √† 72 h ouvr√©es</b> apr√®s le brief complet, selon la complexit√© et la r√©activit√© des fournisseurs.</p>
    </details>
  </div>
</section>

<!-- ==== CALENDRIER CLIQUABLE + MODAL ‚ÄúR√âSERVER UNE DATE‚Äù (AJOUT) ==== -->
<section class="kal" aria-labelledby="kalTitle">
  <h2 id="kalTitle">Choisissez une date pour r√©server</h2>
  <div class="kal__grid">
    <div class="kal__head">
      <button class="kal__btn" type="button" id="kalPrev" aria-label="Mois pr√©c√©dent">‚óÄ</button>
      <div class="kal__month" id="kalMonth"></div>
      <button class="kal__btn" type="button" id="kalNext" aria-label="Mois suivant">‚ñ∂</button>
    </div>
    <table class="kal__table" aria-label="Calendrier">
      <thead>
        <tr>
          <th>Lun</th><th>Mar</th><th>Mer</th><th>Jeu</th><th>Ven</th><th>Sam</th><th>Dim</th>
        </tr>
      </thead>
      <tbody id="kalBody"><!-- lignes g√©n√©r√©es JS --></tbody>
    </table>
  </div>
</section>

<div class="modal" id="bookingModal" aria-hidden="true" role="dialog" aria-labelledby="bookingTitle">
  <div class="modal__in">
    <button class="modal__close" type="button" id="bookingClose" aria-label="Fermer">‚úï</button>
    <h3 class="modal__title" id="bookingTitle">R√©server une date</h3>
    <form id="bookingForm" class="form">
      <div class="input">
        <label for="b_nom">Nom</label>
        <input id="b_nom" name="nom" type="text" required placeholder="Votre nom">
      </div>
      <div class="input">
        <label for="b_email">Email</label>
        <input id="b_email" name="email" type="email" required placeholder="vous@exemple.fr">
      </div>
      <div class="input">
        <label for="b_date">Date souhait√©e</label>
        <input id="b_date" name="date" type="date" required>
      </div>
      <div class="input full">
        <label for="b_msg">Message compl√©mentaire</label>
        <textarea id="b_msg" name="message" rows="3" placeholder="Votre message..."></textarea>
      </div>
      <div class="full" style="display:flex;gap:10px;flex-wrap:wrap">
        <button class="btn btn--accent" type="submit">Envoyer la demande</button>
      </div>
      <p class="modal__foot">* Vous recevrez une r√©ponse de confirmation par e-mail.</p>
    </form>
  </div>
</div>
<!-- ==== FIN AJOUT ==== -->

<section id="brief" class="section">
  <div class="cta">
    <div class="panel">
      <h2>Brief gratuit ‚Äî lancez votre comparatif</h2>
      <p class="muted">D√©crivez votre projet : je reviens vers vous rapidement avec une premi√®re estimation et les prochaines √©tapes.</p>
      <form id="briefForm" class="form" novalidate>
        <div class="input">
          <label for="nom">Nom</label>
          <input id="nom" name="nom" type="text" required placeholder="Votre nom" />
        </div>
        <div class="input">
          <label for="email">Email</label>
          <input id="email" name="email" type="email" required placeholder="vous@exemple.fr" />
        </div>
        <div class="input">
          <label for="tel">T√©l√©phone</label>
          <input id="tel" name="tel" type="tel" placeholder="06 12 34 56 78" />
        </div>
        <div class="input">
          <label for="budget">Budget cuisine (hors pose)</label>
          <select id="budget" name="budget">
            <option value="">S√©lectionnez‚Ä¶</option>
            <option>&lt; 3 000‚Ç¨</option>
            <option>3 000 ‚Äì 6 000‚Ç¨</option>
            <option>6 000 ‚Äì 10 000‚Ç¨</option>
            <option>&gt; 10 000‚Ç¨</option>
          </select>
        </div>
        <div class="input full">
          <label for="dimensions">Dimensions & contraintes</label>
          <textarea id="dimensions" name="dimensions" rows="3" placeholder="Ex : lin√©aire 3,20 m + retour 1,20 m, hauteur sous plafond 2,50 m, arriv√©e d‚Äôeau √† gauche‚Ä¶"></textarea>
        </div>
        <div class="input full">
          <label for="style">Style & mat√©riaux souhait√©s</label>
          <textarea id="style" name="style" rows="3" placeholder="Ex : fa√ßades mates, poign√©es noires, plan de travail stratifi√© ou compact, cr√©dence carrelage blanc‚Ä¶"></textarea>
        </div>
        <div class="input full">
          <label class="input--check">
            <input id="cond" type="checkbox" required />
            <span>Je comprends que le courtage est gratuit si je confie la <b>pose</b> et les <b>travaux</b> √† Papo-R√©nov.</span>
          </label>
          <div class="help">Sans la pose par Papo-R√©nov, une √©tude payante peut √™tre propos√©e.</div>
        </div>
        <div class="full" style="display:flex;gap:10px;flex-wrap:wrap">
          <button class="btn btn--accent" type="submit">Recevoir mon estimation</button>
          <a class="btn btn--ghost" href="contact.html">Contacter directement</a>
        </div>
        <p id="formMsg" class="note" role="status" style="margin:8px 0 0"></p>
      </form>
    </div>
    <div>
      <div class="card">
        <h3>Infos pratiques</h3>
        <ul class="muted" style="margin:8px 0 0 18px">
          <li>Zone : Bouches-du-Rh√¥ne (et proximit√©)</li>
          <li>Disponibilit√©s : sur RDV</li>
          <li>Devis d√©taill√© & calendrier des travaux</li>
        </ul>
      </div>
      <div class="card" style="margin-top:12px">
        <h3>Mentions & transparence</h3>
        <p class="muted">Le service de courtage est offert sous condition de confier la pose/travaux √† Papo-R√©nov. Les devis fournisseurs sont communiqu√©s clairement ‚Äî pas de marge cach√©e sur vos meubles. La r√©mun√©ration provient de la prestation de pose et des travaux associ√©s.</p>
      </div>
    </div>
  </div>
</section>

<footer class="footer">
  <p>¬© Papo-R√©nov ‚Äî Courtage Cuisine & Pose. Tous droits r√©serv√©s.</p>
</footer>

<script>
/* Accessibilit√© focus visible (simple) */
(function(){document.addEventListener('keydown',e=>{if(e.key==='Tab'){document.body.classList.add('kbd')}})})();

/* Formulaire comparatif existant */
const form = document.getElementById('briefForm');
const formMsg = document.getElementById('formMsg');
form?.addEventListener('submit', (e)=>{
  e.preventDefault();
  const nom = document.getElementById('nom').value.trim();
  const email = document.getElementById('email').value.trim();
  const cond = document.getElementById('cond').checked;
  if(!nom || !email || !cond){
    formMsg.textContent = "Merci de compl√©ter les champs requis et d‚Äôaccepter la condition de gratuit√© li√©e √† la pose.";
    formMsg.style.color = "#b42318";
    return;
  }
  formMsg.textContent = "Merci ! Je vous recontacte rapidement pour d√©marrer le comparatif.";
  formMsg.style.color = "#0c6c3e";
  form.reset();
  window.scrollTo({top:0,behavior:'smooth'});
});

/* D√©filement fluide sur les ancres */
document.querySelectorAll('a[href^="#"]').forEach(a=>{
  a.addEventListener('click',e=>{
    const id=a.getAttribute('href');
    if(id.length>1){
      e.preventDefault();
      document.querySelector(id)?.scrollIntoView({behavior:'smooth',block:'start'});
    }
  });
});

/* =========================
   CALENDRIER + MODAL (AJOUT)
   ========================= */
(function(){
  const kalBody = document.getElementById('kalBody');
  const kalMonth = document.getElementById('kalMonth');
  const prevBtn = document.getElementById('kalPrev');
  const nextBtn = document.getElementById('kalNext');

  let view = new Date();  // mois affich√©
  view.setDate(1);

  function pad(n){ return String(n).padStart(2,'0'); }
  function fmtDateISO(d){ return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`; }

  function render(){
    // Libell√© mois
    const formatter = new Intl.DateTimeFormat('fr-FR',{month:'long', year:'numeric'});
    kalMonth.textContent = formatter.format(view);

    // Calcul bornes
    const startDay = (view.getDay() + 6) % 7; // Lundi=0
    const daysInMonth = new Date(view.getFullYear(), view.getMonth()+1, 0).getDate();

    // Jour pr√©c√©dent pour remplir la premi√®re ligne
    const prevMonth = new Date(view.getFullYear(), view.getMonth(), 0);
    const prevDays = prevMonth.getDate();

    // Vider
    kalBody.innerHTML = '';

    let day = 1, nextDay = 1;
    for(let row=0; row<6; row++){
      const tr = document.createElement('tr');

      for(let col=0; col<7; col++){
        const td = document.createElement('td');
        const cell = document.createElement('button');
        cell.type = 'button';
        cell.className = 'kal__day';

        if(row === 0 && col < startDay){
          // jours du mois pr√©c√©dent (mut√©s)
          const d = prevDays - startDay + col + 1;
          cell.textContent = d;
          cell.classList.add('kal__day--muted');
          cell.disabled = true;
        } else if(day > daysInMonth){
          // jours du mois suivant (mut√©s)
          cell.textContent = nextDay++;
          cell.classList.add('kal__day--muted');
          cell.disabled = true;
        } else {
          // jour courant du mois
          cell.textContent = day;
          const selectedDate = new Date(view.getFullYear(), view.getMonth(), day);

          // rep√©rer aujourd'hui
          const now = new Date();
          if(selectedDate.toDateString() === now.toDateString()){
            cell.classList.add('kal__day--today');
          }

          cell.addEventListener('click', ()=>{
            openBooking(selectedDate);
          });

          day++;
        }

        td.appendChild(cell);
        tr.appendChild(td);
      }

      kalBody.appendChild(tr);
      if(day > daysInMonth) break;
    }
  }

  prevBtn.addEventListener('click', ()=>{
    view.setMonth(view.getMonth()-1);
    render();
  });
  nextBtn.addEventListener('click', ()=>{
    view.setMonth(view.getMonth()+1);
    render();
  });

  // Modal r√©servation
  const modal = document.getElementById('bookingModal');
  const closeBtn = document.getElementById('bookingClose');
  const dateInput = document.getElementById('b_date');
  const formBooking = document.getElementById('bookingForm');

  function openBooking(dateObj){
    // Pr√©remplir la date (format yyyy-mm-dd pour l'input[type=date])
    const y = dateObj.getFullYear();
    const m = String(dateObj.getMonth()+1).padStart(2,'0');
    const d = String(dateObj.getDate()).padStart(2,'0');
    dateInput.value = `${y}-${m}-${d}`;

    modal.style.display = 'flex';
    modal.setAttribute('aria-hidden','false');
    // focus premier champ
    setTimeout(()=>document.getElementById('b_nom').focus(), 0);
  }

  function closeBooking(){
    modal.style.display = 'none';
    modal.setAttribute('aria-hidden','true');
    formBooking.reset();
  }

  closeBtn.addEventListener('click', closeBooking);
  modal.addEventListener('click', (e)=>{ if(e.target === modal){ closeBooking(); } });
  document.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && modal.getAttribute('aria-hidden')==='false'){ closeBooking(); } });

  // Soumission (affichage local seulement, pas d‚Äôenvoi mail ici)
  formBooking.addEventListener('submit', (e)=>{
    e.preventDefault();
    // Ici, brancher l'envoi si besoin (fetch/Formspree/etc.)
    alert("Demande envoy√©e. Vous recevrez une r√©ponse de confirmation par e-mail.");
    closeBooking();
  });

  render();
})();
</script>
</body>
</html>